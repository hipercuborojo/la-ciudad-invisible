(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[9],{"1KMS":function(t,e,i){"use strict";i.r(e);var r=i("q1tI"),n=i.n(r);function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function c(t,e,i){return e&&o(t.prototype,e),i&&o(t,i),t}var l=i("rePB"),h=function(){function t(e,i,r,n){a(this,t),Object(l.a)(this,"automaton",void 0),Object(l.a)(this,"image",void 0),Object(l.a)(this,"blendMode",void 0),this.automaton=i,this.image=r,this.blendMode=n||e.DARKEST}return c(t,[{key:"draw",value:function(t){var e=t.createImage(t.width,t.height);e.copy(this.image,0,0,this.image.width,this.image.height,0,0,e.width,e.height),e.mask(this.automaton.getImageState(t)),t.image(e,0,0)}},{key:"update",value:function(){this.automaton.updateState()}}]),t}();function u(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,r)}return i}function s(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?u(Object(i),!0).forEach((function(e){Object(l.a)(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):u(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var d=function(){function t(e){var i=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{0:0,1:255},o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};a(this,t),Object(l.a)(this,"_cellSize",void 0),Object(l.a)(this,"_nextval",void 0),Object(l.a)(this,"board",void 0),Object(l.a)(this,"_colors",void 0),Object(l.a)(this,"_width",void 0),Object(l.a)(this,"_height",void 0),this._cellSize=r,this.board=Array(),this._nextval={0:s({0:0,1:0,2:0,3:1,4:0,5:0,6:0,7:0,8:0},o),1:s({0:0,1:0,2:1,3:1,4:0,5:0,6:0,7:0,8:0},c)},this._width=e.width,this._height=e.height,this._colors=n,this._walk((function(t,r){void 0===i.board[t]&&(i.board[t]=Array()),i.board[t][r]=e.random()>.7?1:0}))}return c(t,[{key:"_walk",value:function(t){for(var e=0;e<this._height/this._cellSize;e++)for(var i=0;i<this._width/this._cellSize;i++)t(i,e)}},{key:"_nextState",value:function(){var t=this,e=Array();return this._walk((function(i,r){for(var n=0,a=-1;a<=1;a++)for(var o=-1;o<=1;o++)0===o&&0===a||i+o<0||i+o>=t.board.length||r+a<0||r+a>=t.board[0].length||t.board[i+o][r+a]&&n++;void 0===e[i]&&(e[i]=Array()),e[i][r]=t._nextval[t.board[i][r]][n]})),e}},{key:"getImageState",value:function(t){var e=this,i=t.createImage(this._width,this._height);return i.loadPixels(),this._walk((function(t,r){for(var n=e._colors[e.board[t][r]],a=0;a<e._cellSize;a++)for(var o=0;o<e._cellSize;o++)i.set(t*e._cellSize+a,r*e._cellSize+o,n)})),i.updatePixels(),i}},{key:"getBlendedState",value:function(t,e){var i=this,r=t.createImage(t.width,t.height);return r.loadPixels(),e.loadPixels(),this._walk((function(t,n){if(!(i.board[t][n]<=0))e.width,r.width})),e.updatePixels(),r.updatePixels(),r}},{key:"draw",value:function(t){var e=this;this._walk((function(i,r){t.fill(e._colors[e.board[i][r]]),t.rect(i*e._cellSize,r*e._cellSize,e._cellSize,e._cellSize)}))}},{key:"updateState",value:function(){var t=this._nextState();this.board=t}}]),t}(),f=function(t,e){var i,r,n=["/im4.jpg","/im3.jpg"];return function(a){a.preload=function(){i=n.map((function(t){return a.loadImage(t)}))},a.setup=function(){console.log(t,e),a.createCanvas(t||500,e||500),a.colorMode(a.RGB,255),a.noStroke(),r=i.map((function(t,e){var i=new d(a,4,{0:a.color(255,0),1:a.color(255,255)});return new h(a,i,t,a.MULTIPLY)}))};a.draw=function(){a.background("#000"),r.map((function(t){return t.draw(a)})),r.map((function(t){return t.update()})),function(){var t=a.frameRate();a.fill(255),a.stroke(0),a.text("FPS: "+t.toFixed(2),10,e-10)}()}}},v=i("BMxC"),b=i("NCWt"),g=i.n(b),p=n.a.createElement;e.default=function(t){var e=t.width,i=void 0===e?100:e,n=t.height,a=void 0===n?100:n,o=t.onMounted,c=Object(r.useRef)();return Object(r.useEffect)((function(){var t=f(i,a);c.current&&c.current.hasChildNodes()&&c.current.childNodes.length>0&&c.current.removeChild(c.current.childNodes[0]),new g.a(t,c.current),o&&o()}),[]),p(v.a,{ref:c})}}}]);